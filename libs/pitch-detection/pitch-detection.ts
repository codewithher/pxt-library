// enum Note {
//     //% blockIdentity=music.noteFrequency enumval=262
//     C = 262,
//     //% block=C#
//     //% blockIdentity=music.noteFrequency enumval=277
//     CSharp = 277,
//     //% blockIdentity=music.noteFrequency enumval=294
//     D = 294,
//     //% blockIdentity=music.noteFrequency enumval=311
//     Eb = 311,
//     //% blockIdentity=music.noteFrequency enumval=330
//     E = 330,
//     //% blockIdentity=music.noteFrequency enumval=349
//     F = 349,
//     //% block=F#
//     //% blockIdentity=music.noteFrequency enumval=370
//     FSharp = 370,
//     //% blockIdentity=music.noteFrequency enumval=392
//     G = 392,
//     //% block=G#
//     //% blockIdentity=music.noteFrequency enumval=415
//     GSharp = 415,
//     //% blockIdentity=music.noteFrequency enumval=440
//     A = 440,
//     //% blockIdentity=music.noteFrequency enumval=466
//     Bb = 466,
//     //% blockIdentity=music.noteFrequency enumval=494
//     B = 494,
//     //% blockIdentity=music.noteFrequency enumval=131
//     C3 = 131,
//     //% block=C#3
//     //% blockIdentity=music.noteFrequency enumval=139
//     CSharp3 = 139,
//     //% blockIdentity=music.noteFrequency enumval=147
//     D3 = 147,
//     //% blockIdentity=music.noteFrequency enumval=156
//     Eb3 = 156,
//     //% blockIdentity=music.noteFrequency enumval=165
//     E3 = 165,
//     //% blockIdentity=music.noteFrequency enumval=175
//     F3 = 175,
//     //% block=F#3
//     //% blockIdentity=music.noteFrequency enumval=185
//     FSharp3 = 185,
//     //% blockIdentity=music.noteFrequency enumval=196
//     G3 = 196,
//     //% block=G#3
//     //% blockIdentity=music.noteFrequency enumval=208
//     GSharp3 = 208,
//     //% blockIdentity=music.noteFrequency enumval=220
//     A3 = 220,
//     //% blockIdentity=music.noteFrequency enumval=233
//     Bb3 = 233,
//     //% blockIdentity=music.noteFrequency enumval=247
//     B3 = 247,
//     //% blockIdentity=music.noteFrequency enumval=262
//     C4 = 262,
//     //% block=C#4
//     //% blockIdentity=music.noteFrequency enumval=277
//     CSharp4 = 277,
//     //% blockIdentity=music.noteFrequency enumval=294
//     D4 = 294,
//     //% blockIdentity=music.noteFrequency enumval=311
//     Eb4 = 311,
//     //% blockIdentity=music.noteFrequency enumval=330
//     E4 = 330,
//     //% blockIdentity=music.noteFrequency enumval=349
//     F4 = 349,
//     //% block=F#4
//     //% blockIdentity=music.noteFrequency enumval=370
//     FSharp4 = 370,
//     //% blockIdentity=music.noteFrequency enumval=392
//     G4 = 392,
//     //% block=G#4
//     //% blockIdentity=music.noteFrequency enumval=415
//     GSharp4 = 415,
//     //% blockIdentity=music.noteFrequency enumval=440
//     A4 = 440,
//     //% blockIdentity=music.noteFrequency enumval=466
//     Bb4 = 466,
//     //% blockIdentity=music.noteFrequency enumval=494
//     B4 = 494,
//     //% blockIdentity=music.noteFrequency enumval=523
//     C5 = 523,
//     //% block=C#5
//     //% blockIdentity=music.noteFrequency enumval=555
//     CSharp5 = 555,
//     //% blockIdentity=music.noteFrequency enumval=587
//     D5 = 587,
//     //% blockIdentity=music.noteFrequency enumval=622
//     Eb5 = 622,
//     //% blockIdentity=music.noteFrequency enumval=659
//     E5 = 659,
//     //% blockIdentity=music.noteFrequency enumval=698
//     F5 = 698,
//     //% block=F#5
//     //% blockIdentity=music.noteFrequency enumval=740
//     FSharp5 = 740,
//     //% blockIdentity=music.noteFrequency enumval=784
//     G5 = 784,
//     //% block=G#5
//     //% blockIdentity=music.noteFrequency enumval=831
//     GSharp5 = 831,
//     //% blockIdentity=music.noteFrequency enumval=880
//     A5 = 880,
//     //% blockIdentity=music.noteFrequency enumval=932
//     Bb5 = 932,
//     //% blockIdentity=music.noteFrequency enumval=988
//     B5 = 988,
// }

// enum BeatFraction {
//     //% block=1
//     Whole = 1,
//     //% block="1/2"
//     Half = 2,
//     //% block="1/4"
//     Quarter = 4,
//     //% block="1/8"
//     Eighth = 8,
//     //% block="1/16"
//     Sixteenth = 16,
//     //% block="2"
//     Double = 32,
//     //% block="4",
//     Breve = 64,
//     //% block="1/3",
//     Triplet = 128
// }

enum NoteName{
    //% blockIdentity=music.noteFrequency enumval=262
    C = 262,
    //% block=C#
    //% blockIdentity=music.noteFrequency enumval=277
    CSharp = 277,
    //% blockIdentity=music.noteFrequency enumval=294
    D = 294,
    //% blockIdentity=music.noteFrequency enumval=311
    Eb = 311,
    //% blockIdentity=music.noteFrequency enumval=330
    E = 330,
    //% blockIdentity=music.noteFrequency enumval=349
    F = 349,
    //% block=F#
    //% blockIdentity=music.noteFrequency enumval=370
    FSharp = 370,
    //% blockIdentity=music.noteFrequency enumval=392
    G = 392,
    //% block=G#
    //% blockIdentity=music.noteFrequency enumval=415
    GSharp = 415,
    //% blockIdentity=music.noteFrequency enumval=440
    A = 440,
    //% blockIdentity=music.noteFrequency enumval=466
    Bb = 466,
    //% blockIdentity=music.noteFrequency enumval=494
    B = 494,
    //% blockIdentity=music.noteFrequency enumval=131
    C3 = 131,
    //% block=C#3
    //% blockIdentity=music.noteFrequency enumval=139
    CSharp3 = 139,
    //% blockIdentity=music.noteFrequency enumval=147
    D3 = 147,
    //% blockIdentity=music.noteFrequency enumval=156
    Eb3 = 156,
    //% blockIdentity=music.noteFrequency enumval=165
    E3 = 165,
    //% blockIdentity=music.noteFrequency enumval=175
    F3 = 175,
    //% block=F#3
    //% blockIdentity=music.noteFrequency enumval=185
    FSharp3 = 185,
    //% blockIdentity=music.noteFrequency enumval=196
    G3 = 196,
    //% block=G#3
    //% blockIdentity=music.noteFrequency enumval=208
    GSharp3 = 208,
    //% blockIdentity=music.noteFrequency enumval=220
    A3 = 220,
    //% blockIdentity=music.noteFrequency enumval=233
    Bb3 = 233,
    //% blockIdentity=music.noteFrequency enumval=247
    B3 = 247,
    //% blockIdentity=music.noteFrequency enumval=262
    C4 = 262,
    //% block=C#4
    //% blockIdentity=music.noteFrequency enumval=277
    CSharp4 = 277,
    //% blockIdentity=music.noteFrequency enumval=294
    D4 = 294,
    //% blockIdentity=music.noteFrequency enumval=311
    Eb4 = 311,
    //% blockIdentity=music.noteFrequency enumval=330
    E4 = 330,
    //% blockIdentity=music.noteFrequency enumval=349
    F4 = 349,
    //% block=F#4
    //% blockIdentity=music.noteFrequency enumval=370
    FSharp4 = 370,
    //% blockIdentity=music.noteFrequency enumval=392
    G4 = 392,
    //% block=G#4
    //% blockIdentity=music.noteFrequency enumval=415
    GSharp4 = 415,
    //% blockIdentity=music.noteFrequency enumval=440
    A4 = 440,
    //% blockIdentity=music.noteFrequency enumval=466
    Bb4 = 466,
    //% blockIdentity=music.noteFrequency enumval=494
    B4 = 494,
    //% blockIdentity=music.noteFrequency enumval=523
    C5 = 523,
    //% block=C#5
    //% blockIdentity=music.noteFrequency enumval=555
    CSharp5 = 555,
    //% blockIdentity=music.noteFrequency enumval=587
    D5 = 587,
    //% blockIdentity=music.noteFrequency enumval=622
    Eb5 = 622,
    //% blockIdentity=music.noteFrequency enumval=659
    E5 = 659,
    //% blockIdentity=music.noteFrequency enumval=698
    F5 = 698,
    //% block=F#5
    //% blockIdentity=music.noteFrequency enumval=740
    FSharp5 = 740,
    //% blockIdentity=music.noteFrequency enumval=784
    G5 = 784,
    //% block=G#5
    //% blockIdentity=music.noteFrequency enumval=831
    GSharp5 = 831,
    //% blockIdentity=music.noteFrequency enumval=880
    A5 = 880,
    //% blockIdentity=music.noteFrequency enumval=932
    Bb5 = 932,
    //% blockIdentity=music.noteFrequency enumval=988
    B5 = 988,
}

//* looked at music extension for guidance *//
namespace pitchdetection {
    let beatsPerMinute: number;

    function init() {
        if (!beatsPerMinute) beatsPerMinute = 120;
    }

     /**
     * Return the duration of a beat in milliseconds (the beat fraction).
     * @param note the fraction of the current whole note, eg: BeatFraction.Half
     */
    //% blockId=instrament_note block="%note|note"
    //% weight=11 blockGap=8
    //% group="Values"
    export function noteName(note?: NoteName): string {
        //To Need to fill this up
        let noteName;
        switch (note) {
            case NoteName.C: noteName = "C"; break;
            case NoteName.CSharp: noteName = "CSharp"; break;
            case NoteName.E: noteName = "E"; break;
            case NoteName.A: noteName = "A"; break;
            case NoteName.G: noteName = "G"; break;
            case NoteName.D: noteName = "D"; break;
            
        }
        return noteName;
    }

    /**
     * Runs code each time the next note of a melody needs to be played.
     * TODO: Not sure what reporter is, need to create the correct UI
     * 
     */
    //% blockId=pitchdetection_onNoteUpdate
    //% block="play melody %sound=music_sounds|until done at %value=bpm|"
    //% weight=20
    //% group="Events"

    export function onNoteUpdate(note?: NoteName, noteB?: NoteName) {
        // QUESTIONS?
        // what does the ? on the param mean?
        // how do i turn this in a container?
        // How should I create a dataprovider for this? Thinking datalogger preset and load your own.
        // create a BPM timer https://gist.github.com/Digikid13/79d250918b2973bb8f68
        // read TabDown (markdown for music) https://github.com/ultimate-guitar/Tabdown
    }

}

